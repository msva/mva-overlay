ngx_addon_name=ngx_http_upstream_check_module
ngx_feature=$ngx_addon_name
ngx_feature_name=
ngx_feature_run=no
ngx_feature_incs=
ngx_feature_path="$ngx_addon_dir"
ngx_feature_deps="$ngx_addon_dir/ngx_http_upstream_check_module.h"
ngx_check_src="$ngx_addon_dir/ngx_http_upstream_check_module.c"
ngx_feature_test="int a;"
. auto/feature

if test -n "$ngx_module_link"; then
    ngx_module_type=HTTP
    ngx_module_name=$ngx_addon_name
    ngx_module_srcs="$ngx_check_src"
    ngx_module_deps="$ngx_feature_deps"
    ngx_module_incs="$CORE_INCS $HTTP_INCS $ngx_feature_path"

    . auto/module
else
    have=NGX_HTTP_UPSTREAM_CHECK . auto/have
    CORE_INCS="$CORE_INCS $HTTP_INCS $ngx_feature_path"
    HTTP_MODULES="$HTTP_MODULES $ngx_addon_name"
    NGX_ADDON_DEPS="$NGX_ADDON_DEPS $ngx_feature_deps"
    NGX_ADDON_SRCS="$NGX_ADDON_SRCS $ngx_check_src"
fi
# vim: ft=sh
